<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>花子动漫发布页</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <style>
:root {
    --primary: #ec4899;
    --primary-light: #f472b6;
    --secondary: #d946ef;
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
    --dark: #1e293b;
    --light: #fdf2f8;
    --gray: #64748b;
    
    --card-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    --card-shadow-hover: 0 4px 6px rgba(0, 0, 0, 0.1);
    --transition: all 0.2s ease;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans SC", sans-serif;
    background: linear-gradient(rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.1)), 
                url('https://v2.xxapi.cn/api/randomAcgPic?type=wap&return=302') no-repeat center center fixed;
    background-size: cover;
    min-height: 100vh;
    color: var(--dark);
    line-height: 1.5;
    padding: 1rem;
    display: flex;
    justify-content: center;
    align-items: flex-start; /* 改为顶部对齐，避免内容过长溢出 */
    padding-top: 2rem;
}

.container {
    width: 100%;
    max-width: 480px;
    padding: 1.5rem;
    background-color: rgba(255, 255, 255, 0.6);
    border-radius: 16px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.4);
    margin-bottom: 1.5rem; /* 容器底部间距 */
}

/* 新增：大卡片容器样式 */
.main-card {
    width: 100%;
    max-width: 480px;
    background-color: rgba(255, 255, 255, 0.8);
    border-radius: 16px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.6);
    overflow: hidden;
    margin-bottom: 1.5rem; /* 卡片之间的间距 */
}

/* 页面内容包裹容器 */
.page-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
}

.header {
    text-align: center;
    padding: 1.5rem 1.5rem 0.5rem;
}

.logo-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 1rem;
}

.logo {
    width: 72px;
    height: 72px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid rgba(255, 255, 255, 0.8);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    margin-bottom: 0.8rem;
    transition: var(--transition);
    background-color: rgba(255, 255, 255, 0.3);
}

.logo:hover {
    transform: scale(1.05);
}

.title {
    font-size: 1.6rem;
    font-weight: 700;
    margin-bottom: 0.3rem;
    color: var(--dark);
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);
}

.subtitle {
    color: rgba(0, 0, 0, 0.8);
    font-size: 0.9rem;
    margin-bottom: 1rem;
}

.notice {
    font-size: 0.8rem;
    color: rgba(0, 0, 0, 0.7);
    padding: 0.6rem;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 8px;
    max-width: 320px;
    margin: 0 auto 1.2rem;
    border: 1px solid rgba(255, 255, 255, 0.6);
}

.download-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 0.8rem;
    padding: 0 1.5rem 1.5rem;
}

.download-card {
    background: rgba(255, 255, 255, 0.7);
    border-radius: 12px;
    padding: 1rem;
    box-shadow: var(--card-shadow);
    transition: var(--transition);
    cursor: pointer;
    border-left: 3px solid var(--primary);
    display: flex;
    align-items: center;
    border: 1px solid rgba(255, 255, 255, 0.8);
}

.download-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--card-shadow-hover);
    background: rgba(255, 255, 255, 0.9);
}

.card-icon {
    width: 32px;
    height: 32px;
    margin-right: 0.8rem;
    object-fit: contain;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

/* 文字图标替代 */
.text-icon {
    font-size: 1.2rem;
    margin-right: 0.8rem;
}

.card-text {
    flex: 1;
}

.card-title {
    font-weight: 600;
    font-size: 0.9rem;
    margin-bottom: 0.2rem;
    color: black;
    background: none;
    -webkit-background-clip: initial;
    -webkit-text-fill-color: black;
}

.card-description {
    font-size: 0.75rem;
    color: black;
    line-height: 1.4;
    opacity: 0.8;
}

/* 下载说明卡片样式 */
.explanation-card {
    padding: 1.5rem;
    background-color: rgba(255, 255, 255, 0.8);
    border-radius: 16px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.6);
    width: 100%;
    max-width: 480px;
}

.explanation-title {
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--dark);
    padding-bottom: 0.5rem;
    border-bottom: 2px solid var(--primary-light);
    display: inline-block;
}

.explanation-content {
    font-size: 0.9rem;
    line-height: 1.8;
    color: #333;
}

.explanation-content p {
    margin-bottom: 1rem;
}

.explanation-content a {
    color: var(--primary);
    text-decoration: underline;
}

.highlight {
    background-color: rgba(245, 158, 11, 0.2);
    padding: 0 3px;
}

/* 自定义弹窗样式 */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.modal-overlay.active {
    opacity: 1;
    visibility: visible;
}

.modal-container {
    background: white;
    border-radius: 12px;
    width: 320px;
    max-width: 90%;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    transform: translateY(20px);
    transition: all 0.3s ease;
    border: 1px solid rgba(0, 0, 0, 0.1);
    overflow: hidden;
}

.modal-overlay.active .modal-container {
    transform: translateY(0);
}

.modal-header {
    padding: 1rem 1.2rem;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    position: relative;
}

.modal-title {
    font-weight: 600;
    font-size: 1.1rem;
    margin: 0;
    color: var(--dark);
}

.modal-close {
    position: absolute;
    top: 0.8rem;
    right: 0.8rem;
    width: 24px;
    height: 24px;
    border: none;
    background: none;
    cursor: pointer;
    font-size: 1rem;
    color: var(--gray);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: var(--transition);
}

.modal-close:hover {
    background: rgba(0, 0, 0, 0.05);
    color: var(--danger);
}

.modal-body {
    padding: 1.2rem;
    font-size: 0.9rem;
    color: var(--dark);
    max-height: 70vh;
    overflow-y: auto;
}

.modal-footer {
    padding: 0.8rem 1.2rem;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    display: flex;
    justify-content: flex-end;
}

.btn {
    padding: 0.5rem 1rem;
    border-radius: 8px;
    font-weight: 500;
    border: none;
    color: white;
    transition: var(--transition);
    font-size: 0.85rem;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.btn-primary {
    background-color: var(--primary);
}

.btn-primary:hover {
    background-color: var(--primary-light);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.download-options {
    display: flex;
    gap: 0.6rem;
    margin-top: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.download-btn {
    padding: 0.5rem 0.7rem;
    border-radius: 8px;
    font-weight: 500;
    border: none;
    color: white;
    transition: var(--transition);
    font-size: 0.8rem;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    min-width: 80px;
    cursor: pointer;
}

.download-btn i {
    margin-right: 5px;
    font-size: 0.8em;
}

.download-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.direct-download {
    background-color: var(--success);
}

.lanzou-download {
    background-color: var(--primary);
}

.yun123-download {
    background-color: var(--warning);
}

.status-notice {
    padding: 0.7rem;
    border-radius: 8px;
    margin-bottom: 0.8rem;
    text-align: center;
    font-size: 0.8rem;
    border-left: 3px solid;
    background-color: rgba(255, 255, 255, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.4);
}

.status-maintenance {
    color: var(--danger);
    border-left-color: var(--danger);
}

.status-recommended {
    color: var(--success);
    border-left-color: var(--success);
}

.status-normal {
    color: var(--primary);
    border-left-color: var(--primary);
}

/* 图标字体 - 使用Unicode代替 */
.icon {
    font-style: normal;
    font-family: Arial, sans-serif;
    margin-right: 6px;
}

/* 选项卡样式 */
.tabs {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1rem;
    overflow-x: auto;
    padding-bottom: 0.5rem;
}

.tab {
    padding: 0.4rem 0.8rem;
    border-radius: 6px;
    border: none;
    background: rgba(255, 255, 255, 0.6);
    font-size: 0.8rem;
    cursor: pointer;
    white-space: nowrap;
    transition: var(--transition);
}

.tab.active {
    background: var(--primary);
    color: white;
}

.tab-content {
    margin-bottom: 0.5rem;
}

.tab-pane {
    display: none;
}

.tab-pane.active {
    display: block;
}

.install-steps {
    padding-left: 1.2rem;
    line-height: 1.6;
    font-size: 0.85rem;
}

.install-steps li {
    margin-bottom: 0.8rem;
}

@media (max-width: 480px) {
    .container, .main-card, .explanation-card {
        padding: 1.2rem;
    }
    
    .download-btn {
        padding: 0.4rem 0.6rem;
        font-size: 0.75rem;
        min-width: 70px;
    }
}
    </style>
</head>
<body>
    <div class="page-content">
        <!-- 原有大卡片 -->
        <div class="main-card">
            <div class="header">
                <div class="logo-container">
                    <img src="https://m.360buyimg.com/i/jfs/t1/245479/12/32534/8729/68ecde81Fa606cf8f/0059f8a029f9b3e5.png" alt="花子动漫Logo" class="logo">
                    <h1 class="title">花子动漫</h1>
                </div>
                <p class="subtitle">🌸 让优质动漫触手可及 huazidm.com 🌸</p>
                <p class="notice">大环境恶化严重，被禁止安装的用户请尝试断网(飞行模式)安装！</p>
            </div>
            
            <div class="download-grid">
                <div class="download-card" onclick="showDownloadDialog('安卓')">
                    <span class="text-icon">📱</span>
                    <div class="card-text">
                        <div class="card-title">安卓下载</div>
                        <div class="card-description">支持安卓系统全机型</div>
                    </div>
                </div>

                <!--<div class="download-card" onclick="showDownloadDialog('iOS')">
                    <span class="text-icon">🍎</span>
                    <div class="card-text">
                        <div class="card-title">苹果下载</div>
                        <div class="card-description">理论支持苹果系统全机型</div>
                    </div>
                </div>

                <div class="download-card" onclick="showDownloadDialog('TV')">
                    <span class="text-icon">📺</span>
                    <div class="card-text">
                        <div class="card-title">TV下载</div>
                        <div class="card-description">理论支持所有电视及盒子手机</div>
                    </div>
                </div>

                <div class="download-card" onclick="window.location.href='help.html'">
                    <span class="text-icon">❓</span>
                    <div class="card-text">
                        <div class="card-title">软件安装指导</div>
                        <div class="card-description">包含各版本安装说明</div>
                    </div>
                </div>-->

                <div class="download-card" onclick="openModal('installGuideModal')">
                    <span class="text-icon">🔒</span>
                    <div class="card-text">
                        <div class="card-title">断网安装教程</div>
                        <div class="card-description">各品牌手机断网安装方法</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 新增的APP下载说明卡片 -->
        <div class="explanation-card">
            <h3 class="explanation-title">APP下载说明</h3>
            <div class="explanation-content">
                <p>• 亲爱的花子动漫用户~</p>
                
                <p>• 我们注意到有些用户在下载我们的APP时，收到了类似【高风险】的提示信息，提示内容包括"包含病毒.gray.BulimiaGen.a"或"a.gray.Sniffvivedio"以及"提示称"我们的应用可能包含病毒或不良内容。</p>
                
                <p>• 我们要向您郑重说明，<strong>我们APP本身并没有任何问题，也没有包含任何违法或有害内容。</strong></p>
                
                <p>• 这个提示的产生并不是由我们的APP引起的，而是由于某些安全软件或杀毒软件可能对我们的APP进行了误判。(具体误判原因请看：<a href="https://hk2v2ex.com/t/1029920" target="_blank">https://hk2v2ex.com/t/1029920</a>)，并非我们的APP实际存在风险。(我们是清白的！！！)</p>
                
                <p>• 我们处于弱势地位，无法直接控制这些误判的产生，但请您放心，下载和安装我们的APP是安全的。如果您在安装过程中遇到类似的提示信息，可以选择忽略提示，或选择<span class="highlight">【断网安装】</span>继续安装使用我们的APP。</p>
                
                <p>• 感谢您的理解与支持！</p>
            </div>
        </div>
    </div>

    <!-- 断网安装教程弹窗 -->
    <div class="modal-overlay" id="installGuideModal">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title">断网安装教程</h3>
                <button class="modal-close" onclick="closeModal('installGuideModal')">×</button>
            </div>
            <div class="modal-body">
                <div class="tabs">
                    <button class="tab active" data-tab="general">通用方法</button>
                    <button class="tab" data-tab="huawei">华为</button>
                    <button class="tab" data-tab="xiaomi">小米</button>
                    <button class="tab" data-tab="oppo">OPPO/realme</button>
                    <button class="tab" data-tab="vivo">vivo</button>
                    <button class="tab" data-tab="samsung">三星</button>
                </div>

                <div class="tab-content">
                    <div id="general" class="tab-pane active">
                        <ul class="install-steps">
                            <li>1. 准备 APK 文件: 在落地页下载APP的APK文件</li>
                            <li>2. 断开网络: 下载完成后，暂时断开网络，关闭Wi-Fi和移动数据，或者直接启用飞行模式，以确保安全安装!</li>
                            <li>3. 启用未知来源安装: 打开手机的 设置>安全>安装未知来源的应用 或 允许从未知来源安装应用。在安卓8.0以上的版本中，设置可能在 应用和通知>特殊应用权限>安装未知应用 中。</li>
                            <li>4. 找到 APK 文件并安装: 打开"文件管理器"找到下载的 APK 文件。点击文件，根据提示进行安装。</li>
                            <li>5. 观看影片: 安装完成后，去应用列表中寻找我们的影视APP，打开它，并记得连接Wi-Fi或移动数据哦!</li>
                        </ul>
                    </div>

                    <div id="huawei" class="tab-pane">
                        <ul class="install-steps">
                            <li>• 断开网络: 下载完成后，暂时断开网络，关闭Wi-Fi和移动数据，或者直接启用飞行模式，以确保安全安装!</li>
                            <li>• 设置未知来源安装: 打开 设置 > 安全 > 更多安全设置 > 未知来源安装，选择"文件管理器"或"应用来源"并允许安装。</li>
                            <li>• 安装 APK: 在"文件管理器"中找到 APK 文件，点击安装。</li>
                        </ul>
                    </div>

                    <div id="xiaomi" class="tab-pane">
                        <ul class="install-steps">
                            <li>• 断开网络: 下载完成后，关闭所有网络连接或开启飞行模式</li>
                            <li>• 设置未知来源: 打开 设置 > 隐私保护 > 保护隐私 > 特殊应用权限 > 安装未知应用，选择对应的文件管理器并开启"允许来自此来源的应用"</li>
                            <li>• 安装应用: 进入文件管理找到下载的APK，点击安装并按照提示完成操作</li>
                        </ul>
                    </div>

                    <div id="oppo" class="tab-pane">
                        <ul class="install-steps">
                            <li>• 断开网络: 关闭Wi-Fi和移动数据，确保处于断网状态</li>
                            <li>• 允许安装: 打开 设置 > 其他设置 > 设备与隐私 > 未知来源应用安装，找到对应的文件管理应用并开启权限</li>
                            <li>• 完成安装: 在文件管理中找到下载的安装包，点击进行安装</li>
                        </ul>
                    </div>

                    <div id="vivo" class="tab-pane">
                        <ul class="install-steps">
                            <li>• 断开网络: 开启飞行模式或关闭所有网络连接</li>
                            <li>• 权限设置: 打开 设置 > 应用与权限 > 权限管理 > 安装未知应用，选择文件管理并允许安装</li>
                            <li>• 安装应用: 从文件管理中找到APK文件，点击安装并确认</li>
                        </ul>
                    </div>

                    <div id="samsung" class="tab-pane">
                        <ul class="install-steps">
                            <li>• 断开网络: 关闭Wi-Fi和移动数据，确保设备处于离线状态</li>
                            <li>• 允许安装: 打开 设置 > 生物识别和安全 > 安装未知应用，选择对应的文件浏览器并开启允许</li>
                            <li>• 安装应用: 找到下载的APK文件，点击安装并完成后续步骤</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="closeModal('installGuideModal')">我知道了</button>
            </div>
        </div>
    </div>

    <!-- 公告弹窗 -->
    <div class="modal-overlay" id="announcementModal">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title">公告</h3>
                <button class="modal-close" onclick="closeModal('announcementModal')">×</button>
            </div>
            <div class="modal-body">
                <div style="text-align:left;font-size:0.85rem;line-height:1.6;">
                    <p><span class="icon" style="color:#ef4444;">❤</span>建议保存网址以免下次找不到</p>
                    <p><span class="icon" style="color:#ec4899;">⇄</span>如果觉得好用可分享给朋友一起使用 🥰</p>
                    <p><span class="icon" style="color:#d946ef;">🔗</span>请收藏我们的地址 <a href="ap.guahd.com" target="_blank" style="color:var(--primary);text-decoration:none;">http://huazidm.xyz</a></p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="closeModal('announcementModal')">我知道了</button>
            </div>
        </div>
    </div>

    <!-- 下载弹窗 -->
    <div class="modal-overlay" id="downloadModal">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title" id="downloadModalTitle">下载</h3>
                <button class="modal-close" onclick="closeModal('downloadModal')">×</button>
            </div>
            <div class="modal-body" id="downloadModalBody">
            </div>
        </div>
    </div>

    <script>
        // 下载信息配置
        const downloadInfo = {
            '安卓': {
                links: {
                    direct: 'https://www.123865.com/s/1DN2jv-r78Q',
                    lanzou: '',
                    yun123: ''
                },
                status: 'recommended',
                notice: '下载不可用时、可以选择备用下载'
            },
            'iOS': {
                links: {
                    direct: '',
                    lanzou: '',
                    yun123: ''
                },
                status: 'normal',
                notice: 'iOS版本内测中，择日开放下载！'
            },
            'TV': {
                links: {
                    direct: '',
                    lanzou: '',
                    yun123: ''
                },
                status: 'maintenance',
                notice: 'TV版本正在内测中，择日提供开放下载！'
            }
        };
        
        // 显示下载对话框
        function showDownloadDialog(type) {
            const info = downloadInfo[type];
            let statusClass = '';
            let statusText = '';
            let statusIcon = '';
            
            switch(info.status) {
                case 'maintenance':
                    statusClass = 'status-maintenance';
                    statusText = '维护中';
                    statusIcon = '🛠';
                    break;
                case 'recommended':
                    statusClass = 'status-recommended';
                    statusText = '状态正常';
                    statusIcon = '⭐';
                    break;
                default:
                    statusClass = 'status-normal';
                    statusText = '状态正常';
                    statusIcon = '⬇';
            }
            
            const isMaintenance = info.status === 'maintenance';
            
            document.getElementById('downloadModalTitle').textContent = `${type}下载`;
            
            let modalContent = `
                <div class="${statusClass} status-notice">
                    <span class="icon">${statusIcon}</span> ${statusText} - ${info.notice}
                </div>`;
            
            if (!isMaintenance) {
                modalContent += `
                <div class="download-options">
                    ${info.links.direct ? `<button class="download-btn direct-download" onclick="redirectTo('${type}', 'direct')"><span class="icon">⚡</span>下载</button>` : ''}
                    ${info.links.lanzou ? `<button class="download-btn lanzou-download" onclick="redirectTo('${type}', 'lanzou')"><span class="icon">☁</span>下载2</button>` : ''}
                    ${info.links.yun123 ? `<button class="download-btn yun123-download" onclick="redirectTo('${type}', 'yun123')"><span class="icon">💾</span>备用下载</button>` : ''}
                </div>`;
            }
            
            document.getElementById('downloadModalBody').innerHTML = modalContent;
            openModal('downloadModal');
        }
        
        // 跳转到下载链接
        function redirectTo(type, source) {
            const url = downloadInfo[type].links[source];
            if (url) {
                window.open(url, '_blank');
                closeModal('downloadModal');
            } else {
                alert('找不到下载链接');
            }
        }
        
        // 打开模态框
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }
        
        // 关闭模态框
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }
        
        // 选项卡切换功能
        document.addEventListener('DOMContentLoaded', function() {
            // 初始公告
            setTimeout(() => {
                openModal('announcementModal');
            }, 300);

            // 选项卡切换
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-pane').forEach(pane => {
                        pane.classList.remove('active');
                    });
                    
                    tab.classList.add('active');
                    const tabId = tab.getAttribute('data-tab');
                    document.getElementById(tabId).classList.add('active');
                });
            });
        });
    </script>
</body>
</html>